export type TailwindColorShade = {
  [key: string]: string;
};

export type TailwindColorsType = {
  [colorName: string]: TailwindColorShade;
};

export const tailwindColorsV3: TailwindColorsType = {
  slate: {
    '50': '#f8fafc',
    '100': '#f1f5f9',
    '200': '#e2e8f0',
    '300': '#cbd5e1',
    '400': '#94a3b8',
    '500': '#64748b',
    '600': '#475569',
    '700': '#334155',
    '800': '#1e293b',
    '900': '#0f172a',
    '950': '#020617',
  },
  gray: {
    '50': '#f9fafb',
    '100': '#f3f4f6',
    '200': '#e5e7eb',
    '300': '#d1d5db',
    '400': '#9ca3af',
    '500': '#6b7280',
    '600': '#4b5563',
    '700': '#374151',
    '800': '#1f2937',
    '900': '#111827',
    '950': '#030712',
  },
  zinc: {
    '50': '#fafafa',
    '100': '#f4f4f5',
    '200': '#e4e4e7',
    '300': '#d4d4d8',
    '400': '#a1a1aa',
    '500': '#71717a',
    '600': '#52525b',
    '700': '#3f3f46',
    '800': '#27272a',
    '900': '#18181b',
    '950': '#09090b',
  },
  neutral: {
    '50': '#fafafa',
    '100': '#f5f5f5',
    '200': '#e5e5e5',
    '300': '#d4d4d4',
    '400': '#a3a3a3',
    '500': '#737373',
    '600': '#525252',
    '700': '#404040',
    '800': '#262626',
    '900': '#171717',
    '950': '#0a0a0a',
  },
  stone: {
    '50': '#fafaf9',
    '100': '#f5f5f4',
    '200': '#e7e5e4',
    '300': '#d6d3d1',
    '400': '#a8a29e',
    '500': '#78716c',
    '600': '#57534e',
    '700': '#44403c',
    '800': '#292524',
    '900': '#1c1917',
    '950': '#0c0a09',
  },
  red: {
    '50': '#fef2f2',
    '100': '#fee2e2',
    '200': '#fecaca',
    '300': '#fca5a5',
    '400': '#f87171',
    '500': '#ef4444',
    '600': '#dc2626',
    '700': '#b91c1c',
    '800': '#991b1b',
    '900': '#7f1d1d',
    '950': '#450a0a',
  },
  orange: {
    '50': '#fff7ed',
    '100': '#ffedd5',
    '200': '#fed7aa',
    '300': '#fdba74',
    '400': '#fb923c',
    '500': '#f97316',
    '600': '#ea580c',
    '700': '#c2410c',
    '800': '#9a3412',
    '900': '#7c2d12',
    '950': '#431407',
  },
  amber: {
    '50': '#fffbeb',
    '100': '#fef3c7',
    '200': '#fde68a',
    '300': '#fcd34d',
    '400': '#fbbf24',
    '500': '#f59e0b',
    '600': '#d97706',
    '700': '#b45309',
    '800': '#92400e',
    '900': '#78350f',
    '950': '#451a03',
  },
  yellow: {
    '50': '#fefce8',
    '100': '#fef9c3',
    '200': '#fef08a',
    '300': '#fde047',
    '400': '#facc15',
    '500': '#eab308',
    '600': '#ca8a04',
    '700': '#a16207',
    '800': '#854d0e',
    '900': '#713f12',
    '950': '#422006',
  },
  lime: {
    '50': '#f7fee7',
    '100': '#ecfccb',
    '200': '#d9f99d',
    '300': '#bef264',
    '400': '#a3e635',
    '500': '#84cc16',
    '600': '#65a30d',
    '700': '#4d7c0f',
    '800': '#3f6212',
    '900': '#365314',
    '950': '#1a2e05',
  },
  green: {
    '50': '#f0fdf4',
    '100': '#dcfce7',
    '200': '#bbf7d0',
    '300': '#86efac',
    '400': '#4ade80',
    '500': '#22c55e',
    '600': '#16a34a',
    '700': '#15803d',
    '800': '#166534',
    '900': '#14532d',
    '950': '#052e16',
  },
  emerald: {
    '50': '#ecfdf5',
    '100': '#d1fae5',
    '200': '#a7f3d0',
    '300': '#6ee7b7',
    '400': '#34d399',
    '500': '#10b981',
    '600': '#059669',
    '700': '#047857',
    '800': '#065f46',
    '900': '#064e3b',
    '950': '#022c22',
  },
  teal: {
    '50': '#f0fdfa',
    '100': '#ccfbf1',
    '200': '#99f6e4',
    '300': '#5eead4',
    '400': '#2dd4bf',
    '500': '#14b8a6',
    '600': '#0d9488',
    '700': '#0f766e',
    '800': '#115e59',
    '900': '#134e4a',
    '950': '#042f2e',
  },
  cyan: {
    '50': '#ecfeff',
    '100': '#cffafe',
    '200': '#a5f3fc',
    '300': '#67e8f9',
    '400': '#22d3ee',
    '500': '#06b6d4',
    '600': '#0891b2',
    '700': '#0e7490',
    '800': '#155e75',
    '900': '#164e63',
    '950': '#083344',
  },
  sky: {
    '50': '#f0f9ff',
    '100': '#e0f2fe',
    '200': '#bae6fd',
    '300': '#7dd3fc',
    '400': '#38bdf8',
    '500': '#0ea5e9',
    '600': '#0284c7',
    '700': '#0369a1',
    '800': '#075985',
    '900': '#0c4a6e',
    '950': '#082f49',
  },
  blue: {
    '50': '#eff6ff',
    '100': '#dbeafe',
    '200': '#bfdbfe',
    '300': '#93c5fd',
    '400': '#60a5fa',
    '500': '#3b82f6',
    '600': '#2563eb',
    '700': '#1d4ed8',
    '800': '#1e40af',
    '900': '#1e3a8a',
    '950': '#172554',
  },
  indigo: {
    '50': '#eef2ff',
    '100': '#e0e7ff',
    '200': '#c7d2fe',
    '300': '#a5b4fc',
    '400': '#818cf8',
    '500': '#6366f1',
    '600': '#4f46e5',
    '700': '#4338ca',
    '800': '#3730a3',
    '900': '#312e81',
    '950': '#1e1b4b',
  },
  violet: {
    '50': '#f5f3ff',
    '100': '#ede9fe',
    '200': '#ddd6fe',
    '300': '#c4b5fd',
    '400': '#a78bfa',
    '500': '#8b5cf6',
    '600': '#7c3aed',
    '700': '#6d28d9',
    '800': '#5b21b6',
    '900': '#4c1d95',
    '950': '#2e1065',
  },
  purple: {
    '50': '#faf5ff',
    '100': '#f3e8ff',
    '200': '#e9d5ff',
    '300': '#d8b4fe',
    '400': '#c084fc',
    '500': '#a855f7',
    '600': '#9333ea',
    '700': '#7e22ce',
    '800': '#6b21a8',
    '900': '#581c87',
    '950': '#3b0764',
  },
  fuchsia: {
    '50': '#fdf4ff',
    '100': '#fae8ff',
    '200': '#f5d0fe',
    '300': '#f0abfc',
    '400': '#e879f9',
    '500': '#d946ef',
    '600': '#c026d3',
    '700': '#a21caf',
    '800': '#86198f',
    '900': '#701a75',
    '950': '#4a044e',
  },
  pink: {
    '50': '#fdf2f8',
    '100': '#fce7f3',
    '200': '#fbcfe8',
    '300': '#f9a8d4',
    '400': '#f472b6',
    '500': '#ec4899',
    '600': '#db2777',
    '700': '#be185d',
    '800': '#9d174d',
    '900': '#831843',
    '950': '#500724',
  },
  rose: {
    '50': '#fff1f2',
    '100': '#ffe4e6',
    '200': '#fecdd3',
    '300': '#fda4af',
    '400': '#fb7185',
    '500': '#f43f5e',
    '600': '#e11d48',
    '700': '#be123c',
    '800': '#9f1239',
    '900': '#881337',
    '950': '#4c0519',
  },
} as const;

export const tailwindColorsV4: TailwindColorsType = {
  slate: {
    '50': 'oklch(98.4% 0.003 247.858)',
    '100': 'oklch(96.8% 0.007 247.896)',
    '200': 'oklch(92.9% 0.013 255.508)',
    '300': 'oklch(86.9% 0.022 252.894)',
    '400': 'oklch(70.4% 0.04 256.788)',
    '500': 'oklch(55.4% 0.046 257.417)',
    '600': 'oklch(44.6% 0.043 257.281)',
    '700': 'oklch(37.2% 0.044 257.287)',
    '800': 'oklch(27.9% 0.041 260.031)',
    '900': 'oklch(20.8% 0.042 265.755)',
    '950': 'oklch(12.9% 0.042 264.695)',
  },
  gray: {
    '50': 'oklch(98.5% 0.002 247.839)',
    '100': 'oklch(96.7% 0.003 264.542)',
    '200': 'oklch(92.8% 0.006 264.531)',
    '300': 'oklch(87.2% 0.01 258.338)',
    '400': 'oklch(70.7% 0.022 261.325)',
    '500': 'oklch(55.1% 0.027 264.364)',
    '600': 'oklch(44.6% 0.03 256.802)',
    '700': 'oklch(37.3% 0.034 259.733)',
    '800': 'oklch(27.8% 0.033 256.848)',
    '900': 'oklch(21% 0.034 264.665)',
    '950': 'oklch(13% 0.028 261.692)',
  },
  zinc: {
    '50': 'oklch(98.5% 0 0)',
    '100': 'oklch(96.7% 0.001 286.375)',
    '200': 'oklch(92% 0.004 286.32)',
    '300': 'oklch(87.1% 0.006 286.286)',
    '400': 'oklch(70.5% 0.015 286.067)',
    '500': 'oklch(55.2% 0.016 285.938)',
    '600': 'oklch(44.2% 0.017 285.786)',
    '700': 'oklch(37% 0.013 285.805)',
    '800': 'oklch(27.4% 0.006 286.033)',
    '900': 'oklch(21% 0.006 285.885)',
    '950': 'oklch(14.1% 0.005 285.823)',
  },
  neutral: {
    '50': 'oklch(98.5% 0 0)',
    '100': 'oklch(97% 0 0)',
    '200': 'oklch(92.2% 0 0)',
    '300': 'oklch(87% 0 0)',
    '400': 'oklch(70.8% 0 0)',
    '500': 'oklch(55.6% 0 0)',
    '600': 'oklch(43.9% 0 0)',
    '700': 'oklch(37.1% 0 0)',
    '800': 'oklch(26.9% 0 0)',
    '900': 'oklch(20.5% 0 0)',
    '950': 'oklch(14.5% 0 0)',
  },
  stone: {
    '50': 'oklch(98.5% 0.001 106.423)',
    '100': 'oklch(97% 0.001 106.424)',
    '200': 'oklch(92.3% 0.003 48.717)',
    '300': 'oklch(86.9% 0.005 56.366)',
    '400': 'oklch(70.9% 0.01 56.259)',
    '500': 'oklch(55.3% 0.013 58.071)',
    '600': 'oklch(44.4% 0.011 73.639)',
    '700': 'oklch(37.4% 0.01 67.558)',
    '800': 'oklch(26.8% 0.007 34.298)',
    '900': 'oklch(21.6% 0.006 56.043)',
    '950': 'oklch(14.7% 0.004 49.25)',
  },
  red: {
    '50': 'oklch(97.1% 0.013 17.38)',
    '100': 'oklch(93.6% 0.032 17.717)',
    '200': 'oklch(88.5% 0.062 18.334)',
    '300': 'oklch(80.8% 0.114 19.571)',
    '400': 'oklch(70.4% 0.191 22.216)',
    '500': 'oklch(63.7% 0.237 25.331)',
    '600': 'oklch(57.7% 0.245 27.325)',
    '700': 'oklch(50.5% 0.213 27.518)',
    '800': 'oklch(44.4% 0.177 26.899)',
    '900': 'oklch(39.6% 0.141 25.723)',
    '950': 'oklch(25.8% 0.092 26.042)',
  },
  orange: {
    '50': 'oklch(98% 0.016 73.684)',
    '100': 'oklch(95.4% 0.038 75.164)',
    '200': 'oklch(90.1% 0.076 70.697)',
    '300': 'oklch(83.7% 0.128 66.29)',
    '400': 'oklch(75% 0.183 55.934)',
    '500': 'oklch(70.5% 0.213 47.604)',
    '600': 'oklch(64.6% 0.222 41.116)',
    '700': 'oklch(55.3% 0.195 38.402)',
    '800': 'oklch(47% 0.157 37.304)',
    '900': 'oklch(40.8% 0.123 38.172)',
    '950': 'oklch(26.6% 0.079 36.259)',
  },
  amber: {
    '50': 'oklch(98.7% 0.022 95.277)',
    '100': 'oklch(96.2% 0.059 95.617)',
    '200': 'oklch(92.4% 0.12 95.746)',
    '300': 'oklch(87.9% 0.169 91.605)',
    '400': 'oklch(82.8% 0.189 84.429)',
    '500': 'oklch(76.9% 0.188 70.08)',
    '600': 'oklch(66.6% 0.179 58.318)',
    '700': 'oklch(55.5% 0.163 48.998)',
    '800': 'oklch(47.3% 0.137 46.201)',
    '900': 'oklch(41.4% 0.112 45.904)',
    '950': 'oklch(27.9% 0.077 45.635)',
  },
  yellow: {
    '50': 'oklch(98.7% 0.026 102.212)',
    '100': 'oklch(97.3% 0.071 103.193)',
    '200': 'oklch(94.5% 0.129 101.54)',
    '300': 'oklch(90.5% 0.182 98.111)',
    '400': 'oklch(85.2% 0.199 91.936)',
    '500': 'oklch(79.5% 0.184 86.047)',
    '600': 'oklch(68.1% 0.162 75.834)',
    '700': 'oklch(55.4% 0.135 66.442)',
    '800': 'oklch(47.6% 0.114 61.907)',
    '900': 'oklch(42.1% 0.095 57.708)',
    '950': 'oklch(28.6% 0.066 53.813)',
  },
  lime: {
    '50': 'oklch(98.6% 0.031 120.757)',
    '100': 'oklch(96.7% 0.067 122.328)',
    '200': 'oklch(93.8% 0.127 124.321)',
    '300': 'oklch(89.7% 0.196 126.665)',
    '400': 'oklch(84.1% 0.238 128.85)',
    '500': 'oklch(76.8% 0.233 130.85)',
    '600': 'oklch(64.8% 0.2 131.684)',
    '700': 'oklch(53.2% 0.157 131.589)',
    '800': 'oklch(45.3% 0.124 130.933)',
    '900': 'oklch(40.5% 0.101 131.063)',
    '950': 'oklch(27.4% 0.072 132.109)',
  },
  green: {
    '50': 'oklch(98.2% 0.018 155.826)',
    '100': 'oklch(96.2% 0.044 156.743)',
    '200': 'oklch(92.5% 0.084 155.995)',
    '300': 'oklch(87.1% 0.15 154.449)',
    '400': 'oklch(79.2% 0.209 151.711)',
    '500': 'oklch(72.3% 0.219 149.579)',
    '600': 'oklch(62.7% 0.194 149.214)',
    '700': 'oklch(52.7% 0.154 150.069)',
    '800': 'oklch(44.8% 0.119 151.328)',
    '900': 'oklch(39.3% 0.095 152.535)',
    '950': 'oklch(26.6% 0.065 152.934)',
  },
  emerald: {
    '50': 'oklch(97.9% 0.021 166.113)',
    '100': 'oklch(95% 0.052 163.051)',
    '200': 'oklch(90.5% 0.093 164.15)',
    '300': 'oklch(84.5% 0.143 164.978)',
    '400': 'oklch(76.5% 0.177 163.223)',
    '500': 'oklch(69.6% 0.17 162.48)',
    '600': 'oklch(59.6% 0.145 163.225)',
    '700': 'oklch(50.8% 0.118 165.612)',
    '800': 'oklch(43.2% 0.095 166.913)',
    '900': 'oklch(37.8% 0.077 168.94)',
    '950': 'oklch(26.2% 0.051 172.552)',
  },
  teal: {
    '50': 'oklch(98.4% 0.014 180.72)',
    '100': 'oklch(95.3% 0.051 180.801)',
    '200': 'oklch(91% 0.096 180.426)',
    '300': 'oklch(85.5% 0.138 181.071)',
    '400': 'oklch(77.7% 0.152 181.912)',
    '500': 'oklch(70.4% 0.14 182.503)',
    '600': 'oklch(60% 0.118 184.704)',
    '700': 'oklch(51.1% 0.096 186.391)',
    '800': 'oklch(43.7% 0.078 188.216)',
    '900': 'oklch(38.6% 0.063 188.416)',
    '950': 'oklch(27.7% 0.046 192.524)',
  },
  cyan: {
    '50': 'oklch(98.4% 0.019 200.873)',
    '100': 'oklch(95.6% 0.045 203.388)',
    '200': 'oklch(91.7% 0.08 205.041)',
    '300': 'oklch(86.5% 0.127 207.078)',
    '400': 'oklch(78.9% 0.154 211.53)',
    '500': 'oklch(71.5% 0.143 215.221)',
    '600': 'oklch(60.9% 0.126 221.723)',
    '700': 'oklch(52% 0.105 223.128)',
    '800': 'oklch(45% 0.085 224.283)',
    '900': 'oklch(39.8% 0.07 227.392)',
    '950': 'oklch(30.2% 0.056 229.695)',
  },
  sky: {
    '50': 'oklch(97.7% 0.013 236.62)',
    '100': 'oklch(95.1% 0.026 236.824)',
    '200': 'oklch(90.1% 0.058 230.902)',
    '300': 'oklch(82.8% 0.111 230.318)',
    '400': 'oklch(74.6% 0.16 232.661)',
    '500': 'oklch(68.5% 0.169 237.323)',
    '600': 'oklch(58.8% 0.158 241.966)',
    '700': 'oklch(50% 0.134 242.749)',
    '800': 'oklch(44.3% 0.11 240.79)',
    '900': 'oklch(39.1% 0.09 240.876)',
    '950': 'oklch(29.3% 0.066 243.157)',
  },
  blue: {
    '50': 'oklch(97% 0.014 254.604)',
    '100': 'oklch(93.2% 0.032 255.585)',
    '200': 'oklch(88.2% 0.059 254.128)',
    '300': 'oklch(80.9% 0.105 251.813)',
    '400': 'oklch(70.7% 0.165 254.624)',
    '500': 'oklch(62.3% 0.214 259.815)',
    '600': 'oklch(54.6% 0.245 262.881)',
    '700': 'oklch(48.8% 0.243 264.376)',
    '800': 'oklch(42.4% 0.199 265.638)',
    '900': 'oklch(37.9% 0.146 265.522)',
    '950': 'oklch(28.2% 0.091 267.935)',
  },
  indigo: {
    '50': 'oklch(96.2% 0.018 272.314)',
    '100': 'oklch(93% 0.034 272.788)',
    '200': 'oklch(87% 0.065 274.039)',
    '300': 'oklch(78.5% 0.115 274.713)',
    '400': 'oklch(67.3% 0.182 276.935)',
    '500': 'oklch(58.5% 0.233 277.117)',
    '600': 'oklch(51.1% 0.262 276.966)',
    '700': 'oklch(45.7% 0.24 277.023)',
    '800': 'oklch(39.8% 0.195 277.366)',
    '900': 'oklch(35.9% 0.144 278.697)',
    '950': 'oklch(25.7% 0.09 281.288)',
  },
  violet: {
    '50': 'oklch(96.9% 0.016 293.756)',
    '100': 'oklch(94.3% 0.029 294.588)',
    '200': 'oklch(89.4% 0.057 293.283)',
    '300': 'oklch(81.1% 0.111 293.571)',
    '400': 'oklch(70.2% 0.183 293.541)',
    '500': 'oklch(60.6% 0.25 292.717)',
    '600': 'oklch(54.1% 0.281 293.009)',
    '700': 'oklch(49.1% 0.27 292.581)',
    '800': 'oklch(43.2% 0.232 292.759)',
    '900': 'oklch(38% 0.189 293.745)',
    '950': 'oklch(28.3% 0.141 291.089)',
  },
  purple: {
    '50': 'oklch(97.7% 0.014 308.299)',
    '100': 'oklch(94.6% 0.033 307.174)',
    '200': 'oklch(90.2% 0.063 306.703)',
    '300': 'oklch(82.7% 0.119 306.383)',
    '400': 'oklch(71.4% 0.203 305.504)',
    '500': 'oklch(62.7% 0.265 303.9)',
    '600': 'oklch(55.8% 0.288 302.321)',
    '700': 'oklch(49.6% 0.265 301.924)',
    '800': 'oklch(43.8% 0.218 303.724)',
    '900': 'oklch(38.1% 0.176 304.987)',
    '950': 'oklch(29.1% 0.149 302.717)',
  },
  fuchsia: {
    '50': 'oklch(97.7% 0.017 320.058)',
    '100': 'oklch(95.2% 0.037 318.852)',
    '200': 'oklch(90.3% 0.076 319.62)',
    '300': 'oklch(83.3% 0.145 321.434)',
    '400': 'oklch(74% 0.238 322.16)',
    '500': 'oklch(66.7% 0.295 322.15)',
    '600': 'oklch(59.1% 0.293 322.896)',
    '700': 'oklch(51.8% 0.253 323.949)',
    '800': 'oklch(45.2% 0.211 324.591)',
    '900': 'oklch(40.1% 0.17 325.612)',
    '950': 'oklch(29.3% 0.136 325.661)',
  },
  pink: {
    '50': 'oklch(97.1% 0.014 343.198)',
    '100': 'oklch(94.8% 0.028 342.258)',
    '200': 'oklch(89.9% 0.061 343.231)',
    '300': 'oklch(82.3% 0.12 346.018)',
    '400': 'oklch(71.8% 0.202 349.761)',
    '500': 'oklch(65.6% 0.241 354.308)',
    '600': 'oklch(59.2% 0.249 0.584)',
    '700': 'oklch(52.5% 0.223 3.958)',
    '800': 'oklch(45.9% 0.187 3.815)',
    '900': 'oklch(40.8% 0.153 2.432)',
    '950': 'oklch(28.4% 0.109 3.907)',
  },
  rose: {
    '50': 'oklch(96.9% 0.015 12.422)',
    '100': 'oklch(94.1% 0.03 12.58)',
    '200': 'oklch(89.2% 0.058 10.001)',
    '300': 'oklch(81% 0.117 11.638)',
    '400': 'oklch(71.2% 0.194 13.428)',
    '500': 'oklch(64.5% 0.246 16.439)',
    '600': 'oklch(58.6% 0.253 17.585)',
    '700': 'oklch(51.4% 0.222 16.935)',
    '800': 'oklch(45.5% 0.188 13.697)',
    '900': 'oklch(41% 0.159 10.272)',
    '950': 'oklch(27.1% 0.105 12.094)',
  },
} as const;

// Keep the original as the default for backward compatibility
export const tailwindColors = tailwindColorsV3;

export type ColorFormat = 'hex' | 'rgb' | 'hsl' | 'tailwind' | 'oklch';
export type TailwindVersion = 'v3' | 'v4';

export const hexToRgb = (hex: string) => {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result
    ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16),
      }
    : null;
};

export const hexToHsl = (hex: string) => {
  const rgb = hexToRgb(hex);
  if (!rgb) return null;

  const r = rgb.r / 255;
  const g = rgb.g / 255;
  const b = rgb.b / 255;

  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  const l = (max + min) / 2;
  let h: number;
  let s: number;

  if (max === min) {
    h = s = 0; // achromatic
  } else {
    const d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    switch (max) {
      case r:
        h = (g - b) / d + (g < b ? 6 : 0);
        break;
      case g:
        h = (b - r) / d + 2;
        break;
      case b:
        h = (r - g) / d + 4;
        break;
      default:
        h = 0;
    }
    h /= 6;
  }

  return {
    h: Math.round(h * 360),
    s: Math.round(s * 100),
    l: Math.round(l * 100),
  };
};

export const formatColorValue = (
  value: string,
  format: ColorFormat,
  colorName: string,
  shade: string,
  version: TailwindVersion = 'v3'
): string => {
  // For v4 colors, the value is already in OKLCH format
  if (version === 'v4') {
    switch (format) {
      case 'oklch':
        return value;
      case 'tailwind':
        return `${colorName}-${shade}`;
      default:
        // For v4, if they want hex/rgb/hsl, we return the OKLCH value
        // since converting from OKLCH to other formats is complex
        return value;
    }
  }

  // For v3 colors (hex values)
  switch (format) {
    case 'rgb': {
      const rgb = hexToRgb(value);
      return rgb ? `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})` : value;
    }
    case 'hsl': {
      const hsl = hexToHsl(value);
      return hsl ? `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)` : value;
    }
    case 'tailwind':
      return `${colorName}-${shade}`;
    case 'oklch':
      // For v3 colors, we don't have OKLCH values, so return the hex
      return value;
    default:
      return value;
  }
}; 